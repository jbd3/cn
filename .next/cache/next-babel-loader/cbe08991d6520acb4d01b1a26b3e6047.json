{"ast":null,"code":"const handler = nextConnect();\nhandler.use(middleware);\nhandler.get(async (req, res) => {\n  const {\n    token\n  } = req.query;\n\n  try {\n    const game = await req.db.collection('games').findOne({\n      token\n    });\n    res.json(game);\n  } catch (err) {\n    throw new Error(`Error fetching game with token ${token}: ${err}`);\n  }\n});\nexport default handler;","map":{"version":3,"sources":["/Users/jakedouglas 1/development/nextJs/cn/pages/api/games.js"],"names":["handler","nextConnect","use","middleware","get","req","res","token","query","game","db","collection","findOne","json","err","Error"],"mappings":"AAEA,MAAMA,OAAO,GAAGC,WAAW,EAA3B;AAEAD,OAAO,CAACE,GAAR,CAAYC,UAAZ;AAEAH,OAAO,CAACI,GAAR,CAAY,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC9B,QAAM;AAAEC,IAAAA;AAAF,MAAYF,GAAG,CAACG,KAAtB;;AACA,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,EAAJ,CAAOC,UAAP,CAAkB,OAAlB,EAA2BC,OAA3B,CAAmC;AAAEL,MAAAA;AAAF,KAAnC,CAAnB;AACAD,IAAAA,GAAG,CAACO,IAAJ,CAASJ,IAAT;AACD,GAHD,CAGE,OAAOK,GAAP,EAAY;AACZ,UAAM,IAAIC,KAAJ,CAAW,kCAAiCR,KAAM,KAAIO,GAAI,EAA1D,CAAN;AACD;AACF,CARD;AAUA,eAAed,OAAf","sourcesContent":["\n\nconst handler = nextConnect();\n\nhandler.use(middleware);\n\nhandler.get(async (req, res) => {\n  const { token } = req.query;\n  try {\n    const game = await req.db.collection('games').findOne({ token });\n    res.json(game);\n  } catch (err) {\n    throw new Error(`Error fetching game with token ${token}: ${err}`);\n  }\n});\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}